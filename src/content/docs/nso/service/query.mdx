---
title: Query service
sidebar:
  order: 1
method: POST
---
import EditableCode from "../../../../components/API/EditableCode.astro";
import ApiTester from "../../../../components/API/ApiTester.astro";
import Input from "../../../../components/API/Input.astro";
import Button from "../../../../components/API/Button.astro";
import Tree from "../../../../components/API/Tree.astro";
import { FileTree } from '@astrojs/starlight/components';

<div class="api-route">
  <span class="api-route-badge POST">POST</span>
  <span class="api-route-text">/\{service}/query</span>
</div>

Query data from any of the available microservices. Currently available services are:

* Coral
* Splatnet 3

:::danger
502 response codes should be treated with respect! It means something went wrong while trying to authenticate with Nintendo.
Please read the section [handling 502 responses](#handling-502-responses) for more information.

Do not repeat the request with the same data. If you can not solve the issue, please contact me on Discord.
:::

<Tree>
  - Pet
    - id (type: int)
    - name (description: Must be longer than 3 letters) (type: string) (required)
    - category
      - id (type: int) (required)
      - name (type: string) (required)
    - photoUrls (description: Array of urls that will be displayed on the pets site) (type: [string]) (required)
    - tags (type: [object])
    - status (description: Pets availability in the store. Can be available, pending or sold) (type: string)
</Tree>

## Authentication üîí

<Input valueName="HTTP Bearer" valueType="string" required inputType="text" exampleValue="sessiontoken" valueDescription="Uses the sessiontoken generate from the generate token endpoint"/>

## Request

#### Parameters

#### Headers

#### Body ‚ùó

Requires an array of simple and/or complex queries that you want to perform on the given service

<EditableCode language="json" id="request-body">
      ```
      {
        "simpleQueries": [
          ""
        ],
        "detailedQueries": [
          {}
        ]
      }
      ```
</ EditableCode>

<ApiTester url="/service/query" />

## Response

### Handling 502 responses